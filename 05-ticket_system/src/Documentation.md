added try catch for both calls to external dependencies